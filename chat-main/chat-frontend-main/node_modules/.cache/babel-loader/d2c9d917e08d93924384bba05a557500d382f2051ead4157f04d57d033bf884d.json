{"ast":null,"code":"var _jsxFileName = \"/media/tina/0ED49F87D49F7027/1_SIT_2024Fall/CS554/project/chat-frontend-main/src/components/SidebarHeader/index.tsx\",\n  _s = $RefreshSig$();\nimport { Avatar, IconButton, Menu, MenuItem } from '@material-ui/core';\nimport React from 'react';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { USER_INITIAL_VALUE } from '../../constants';\nimport { useChat } from '../../context/ChatContext';\nimport { useUser } from '../../context/UserContext';\nimport chatHttp from '../../services/Http';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SidebarHeader({\n  history,\n  onNewRoom\n}) {\n  _s();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const {\n    userDetails,\n    setUserDetails\n  } = useUser();\n  const chatSocket = useChat();\n  const onLogout = () => {\n    setAnchorEl(null);\n    console.log('Disconnecting Socket Context..');\n    chatSocket.disconnect();\n    chatHttp.changeLoginStatus({\n      newValue: false\n    }).then(resp => {\n      localStorage.clear();\n      setUserDetails(USER_INITIAL_VALUE);\n      history.push('/login');\n    }).catch(({\n      response\n    }) => {\n      console.log(response);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"sidebar__header\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar__headerAvatar\",\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        children: userDetails.firstName && userDetails.lastName ? userDetails.firstName.charAt(0) + userDetails.lastName.charAt(0) : /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"header__text\",\n        children: userDetails.firstName + ' ' + userDetails.lastName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar__headerIcons\",\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: onNewRoom,\n        children: /*#__PURE__*/_jsxDEV(ChatIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: e => setAnchorEl(e.currentTarget),\n        children: /*#__PURE__*/_jsxDEV(MoreVertIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Menu, {\n        id: \"sidebar-menu\",\n        anchorEl: anchorEl,\n        keepMounted: true,\n        open: Boolean(anchorEl),\n        onClose: () => setAnchorEl(null),\n        children: /*#__PURE__*/_jsxDEV(MenuItem, {\n          onClick: onLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 3\n  }, this);\n}\n_s(SidebarHeader, \"BYKVc9ZEGA5p32jRc1WMAddh8Ng=\", false, function () {\n  return [useUser, useChat];\n});\n_c = SidebarHeader;\nexport default SidebarHeader;\nvar _c;\n$RefreshReg$(_c, \"SidebarHeader\");","map":{"version":3,"names":["Avatar","IconButton","Menu","MenuItem","React","ChatIcon","MoreVertIcon","PersonIcon","USER_INITIAL_VALUE","useChat","useUser","chatHttp","jsxDEV","_jsxDEV","SidebarHeader","history","onNewRoom","_s","anchorEl","setAnchorEl","useState","userDetails","setUserDetails","chatSocket","onLogout","console","log","disconnect","changeLoginStatus","newValue","then","resp","localStorage","clear","push","catch","response","className","children","firstName","lastName","charAt","fileName","_jsxFileName","lineNumber","columnNumber","onClick","e","currentTarget","id","keepMounted","open","Boolean","onClose","_c","$RefreshReg$"],"sources":["/media/tina/0ED49F87D49F7027/1_SIT_2024Fall/CS554/project/chat-frontend-main/src/components/SidebarHeader/index.tsx"],"sourcesContent":["import { Avatar, IconButton, Menu, MenuItem } from '@material-ui/core';\nimport React from 'react';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { USER_INITIAL_VALUE } from '../../constants';\nimport { useChat } from '../../context/ChatContext';\nimport { useUser } from '../../context/UserContext';\nimport chatHttp from '../../services/Http';\nimport './style.css';\nimport { useHistory } from 'react-router-dom';\n\nexport interface SidebarHeaderProps {\n\thistory: ReturnType<typeof useHistory>;\n\tonNewRoom: () => void;\n}\n\nfunction SidebarHeader({ history, onNewRoom }: SidebarHeaderProps) {\n\tconst [ anchorEl, setAnchorEl ] = React.useState<null | HTMLElement>(null);\n\tconst { userDetails, setUserDetails } = useUser();\n\tconst chatSocket = useChat();\n\n\tconst onLogout = () => {\n\t\tsetAnchorEl(null);\n\t\tconsole.log('Disconnecting Socket Context..');\n\t\tchatSocket.disconnect();\n\t\tchatHttp\n\t\t\t.changeLoginStatus({ newValue: false })\n\t\t\t.then((resp) => {\n\t\t\t\tlocalStorage.clear();\n\t\t\t\tsetUserDetails(USER_INITIAL_VALUE);\n\t\t\t\thistory.push('/login');\n\t\t\t})\n\t\t\t.catch(({ response }) => {\n\t\t\t\tconsole.log(response);\n\t\t\t});\n\t};\n\treturn (\n\t\t<div className=\"sidebar__header\">\n\t\t\t<div className=\"sidebar__headerAvatar\">\n\t\t\t\t<Avatar>\n\t\t\t\t\t{userDetails.firstName && userDetails.lastName ? (\n\t\t\t\t\t\tuserDetails.firstName.charAt(0) + userDetails.lastName.charAt(0)\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<PersonIcon />\n\t\t\t\t\t)}\n\t\t\t\t</Avatar>\n\t\t\t\t<p className=\"header__text\">{userDetails.firstName + ' ' + userDetails.lastName}</p>\n\t\t\t</div>\n\t\t\t<div className=\"sidebar__headerIcons\">\n\t\t\t\t<IconButton onClick={onNewRoom}>\n\t\t\t\t\t<ChatIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t<IconButton onClick={(e) => setAnchorEl(e.currentTarget)}>\n\t\t\t\t\t<MoreVertIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t<Menu\n\t\t\t\t\tid=\"sidebar-menu\"\n\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\tkeepMounted\n\t\t\t\t\topen={Boolean(anchorEl)}\n\t\t\t\t\tonClose={() => setAnchorEl(null)}\n\t\t\t\t>\n\t\t\t\t\t<MenuItem onClick={onLogout}>Logout</MenuItem>\n\t\t\t\t</Menu>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default SidebarHeader;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}